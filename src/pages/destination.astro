---
import BaseLayout from '$/layouts/BaseLayout.astro';
import Header from '$/components/Header.astro';

import allData from '$/resources/data.json';
const destinationData = allData["destinations"];

const destinationNames = destinationData.map(dest => dest.name);
const defaultDestination = destinationData[0];

function isSelected(name) {
  return name === defaultDestination.name ? "true" : false;
}

function mainImageAlt(destination) {
  return `Image of ${destination.name}`
}

---

<BaseLayout title="Space Tourism | Destination" page="destination">

<Header />

<main id="main" class="flow grid-container grid-container--destination">
  <h1 class="numbered-title"><span>01</span>Pick your destination</h1>

  <picture class="destination-photo">
    <source srcset={defaultDestination.images.webp} type="image/webp" alt={mainImageAlt(defaultDestination)}>
    <img width="100%" src={defaultDestination.images.png} alt={mainImageAlt(defaultDestination)}>
  </picture>

  <div class="tabs underline-indicators flex uppercase fs-300 ff-sans-cond letter-spacing-2 text-light">
  {destinationNames.map(name => {
    return <button aria-selected={isSelected(name)} class="bg-transparent">{name}</button>;
  })}
  </div>

  <article>
    <h2 class="fs-800 ff-serif uppercase">{defaultDestination.name}</h2>
    <p class="text-light">{defaultDestination.description}</p>
    <div class="destination-meta flex">
      <p class="uppercase text-light fs-200 ff-sans-cond letter-spacing-3 grid" style="--gap: 0.3rem">Avg. distance <em class="fs-500 ff-serif text-white" style="font-style: normal;">{defaultDestination.distance}</em></p>
      <p class="uppercase text-light fs-200 ff-sans-cond letter-spacing-3 grid" style="--gap: 0.3rem">Est. travel time <em class="fs-500 ff-serif text-white" style="font-style: normal;">{defaultDestination.travel}</em></p>
    </div>
  </article>


</main>

</BaseLayout>